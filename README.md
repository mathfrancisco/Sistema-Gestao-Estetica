# ðŸ’†â€â™€ï¸ Sistema de GestÃ£o EstÃ©tica Completo 

> **Transforme sua clÃ­nica de estÃ©tica em um negÃ³cio digital profissional**
> 
> Da planilha ao sistema completo: gestÃ£o financeira inteligente, agendamento sincronizado com Google Calendar, controle de estoque e muito mais.

## ðŸŽ¯ VisÃ£o Geral do Sistema

### O Que Este Sistema Resolve

**ANTES (Google Sheets):**
- âŒ Dados espalhados em mÃºltiplas planilhas
- âŒ CÃ¡lculos manuais propensos a erros
- âŒ Agendamentos desorganizados
- âŒ Controle de estoque inexistente
- âŒ AnÃ¡lises limitadas e demoradas
- âŒ Acesso apenas no computador

**DEPOIS (Sistema Profissional):**
- âœ… Dashboard unificado em tempo real
- âœ… CÃ¡lculos automÃ¡ticos e precisos
- âœ… Agendamento integrado com Google Calendar
- âœ… Controle total do estoque
- âœ… Insights avanÃ§ados e automÃ¡ticos
- âœ… Acesso em qualquer dispositivo

---

## ðŸ“‹ Funcionalidades Principais

### 1. ðŸ“Š **DASHBOARD FINANCEIRO INTELIGENTE**

**MÃ©tricas em Tempo Real:**
- Receita diÃ¡ria/semanal/mensal
- Lucro lÃ­quido com distribuiÃ§Ã£o automÃ¡tica
- Ticket mÃ©dio por cliente
- Taxa de conversÃ£o de agendamentos
- ROI por procedimento
- ProjeÃ§Ãµes baseadas em histÃ³rico

**GrÃ¡ficos Interativos:**
- EvoluÃ§Ã£o de receita (linha temporal)
- DistribuiÃ§Ã£o de lucros (pizza)
- Performance por procedimento (barras)
- Fluxo de caixa projetado (Ã¡rea)
- Sazonalidade do negÃ³cio (heat map)

### 2. ðŸ“… **SISTEMA DE AGENDAMENTO COM GOOGLE CALENDAR**

**IntegraÃ§Ã£o Total com Google Calendar:**
- SincronizaÃ§Ã£o bidirecional automÃ¡tica
- Agendamentos aparecem no Google Calendar e no sistema
- Clientes recebem convites do Google Calendar
- ConfirmaÃ§Ã£o automÃ¡tica via Google Calendar
- NotificaÃ§Ãµes nativas do Google

**CalendÃ¡rio Visual Integrado:**
- Interface sincronizada com Google Calendar
- VisualizaÃ§Ã£o por dia/semana/mÃªs
- Cores por tipo de procedimento
- Bloqueio automÃ¡tico de conflitos
- Tempo de duraÃ§Ã£o automÃ¡tico por procedimento

**GestÃ£o de Agendamentos:**
- CriaÃ§Ã£o de eventos no Google Calendar
- Envio automÃ¡tico de convites para clientes
- Sistema de confirmaÃ§Ã£o via Google
- Reagendamento sincronizado
- HistÃ³rico completo de agendamentos

### 3. ðŸ“¦ **CONTROLE DE ESTOQUE SIMPLIFICADO**

**GestÃ£o Completa de Produtos:**
- Cadastro de produtos e materiais
- Entrada/saÃ­da automÃ¡tica por procedimento
- Alertas de estoque mÃ­nimo
- Controle de validade de produtos
- HistÃ³rico completo de movimentaÃ§Ãµes

**AnÃ¡lises de Estoque:**
- Giro de estoque por produto
- Custo real por procedimento
- PrevisÃ£o de necessidades
- AnÃ¡lise ABC de produtos
- RelatÃ³rio de desperdÃ­cios

**Controle de Custos:**
- CÃ¡lculo automÃ¡tico de custo por atendimento
- Margem de lucro por procedimento
- RelatÃ³rios de consumo
- Alertas de produtos vencidos

### 4. ðŸŽ¯ **CRM E RELACIONAMENTO COM CLIENTES**

**SegmentaÃ§Ã£o AutomÃ¡tica:**
- Clientes VIP (maior valor gasto)
- Clientes em risco (sem retorno hÃ¡ 60+ dias)
- Novos clientes (primeiros 90 dias)
- Clientes sazonais
- Score de propensÃ£o Ã  compra

**Campanhas via Google Calendar:**
- Agendamentos de retorno automÃ¡ticos
- Lembretes de aniversÃ¡rio via calendar
- Campanhas de reativaÃ§Ã£o
- Follow-up pÃ³s-atendimento
- Programa de indicaÃ§Ã£o

**HistÃ³rico Completo:**
- Todos os atendimentos realizados
- Eventos do calendar sincronizados
- PreferÃªncias e observaÃ§Ãµes
- EvoluÃ§Ã£o do perfil do cliente
- Lifetime value (LTV)

### 5. ðŸ’° **GESTÃƒO FINANCEIRA COMPLETA**

**ðŸŽ¯ DistribuiÃ§Ã£o AutomÃ¡tica de Lucros:**
```
ConfiguraÃ§Ã£o PadrÃ£o Inteligente:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Destino                 â”‚ Valor    â”‚ % do Lucro  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PrÃ³-labore (SalÃ¡rio)    â”‚ R$ 2.840 â”‚    60%      â”‚
â”‚ Reserva Equipamentos    â”‚ R$ 947   â”‚    20%      â”‚
â”‚ Reserva EmergÃªncia      â”‚ R$ 473   â”‚    10%      â”‚
â”‚ Investimento/Marketing  â”‚ R$ 473   â”‚    10%      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Fluxo de Caixa Inteligente:**
- ProjeÃ§Ã£o de 90 dias automatizada
- AnÃ¡lise de sazonalidade
- Alertas de liquidez
- Planejamento tributÃ¡rio bÃ¡sico
- Controle de contas a pagar/receber

**PrecificaÃ§Ã£o DinÃ¢mica:**
- SugestÃ£o de preÃ§os baseada em demanda
- AnÃ¡lise de elasticidade
- PromoÃ§Ãµes para horÃ¡rios vazios
- Comparativo com mercado
- Simulador de cenÃ¡rios

### 6. ðŸ“ˆ **ANÃLISES E RELATÃ“RIOS AVANÃ‡ADOS**

**Dashboards Executivos:**
- KPIs principais do negÃ³cio
- Comparativos mÃªs a mÃªs
- AnÃ¡lise de tendÃªncias
- Metas vs realizado
- Benchmarks do setor

**RelatÃ³rios AutomÃ¡ticos:**
- RelatÃ³rio mensal de performance
- AnÃ¡lise de rentabilidade por procedimento
- RelatÃ³rio de clientes (retenÃ§Ã£o, churn)
- AnÃ¡lise de estoque e custos
- RelatÃ³rio fiscal simplificado

---

## ðŸ—ï¸ Arquitetura TÃ©cnica AvanÃ§ada

### Stack TecnolÃ³gica Premium

```typescript
Frontend:     Next.js 14 (App Router) + TypeScript
Styling:      Tailwind CSS + shadcn/ui + Framer Motion
Database:     Supabase (PostgreSQL) + Redis Cache
Auth:         Supabase Auth + Google OAuth
Calendar:     Google Calendar API v3
Charts:       Recharts + D3.js para grÃ¡ficos avanÃ§ados
PDF:          React-PDF + jsPDF
State:        Zustand + React Query (TanStack)
Realtime:     Supabase Realtime
Deploy:       Vercel Edge Functions
Mobile:       PWA com offline-first
```

### ðŸ—„ï¸ Estrutura Simplificada do Banco de Dados

```sql
-- ============ CORE TABLES ============

-- UsuÃ¡rios e AutenticaÃ§Ã£o
users (
  id: uuid PRIMARY KEY,
  email: varchar UNIQUE,
  google_calendar_id: varchar,
  google_access_token: text,
  google_refresh_token: text,
  created_at: timestamp,
  updated_at: timestamp
)

-- Perfil do NegÃ³cio
business_profile (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  business_name: varchar NOT NULL,
  cnpj: varchar,
  phone: varchar,
  address: jsonb,
  business_hours: jsonb,
  google_calendar_settings: jsonb,
  settings: jsonb,
  created_at: timestamp
)

-- ============ PROCEDIMENTOS E SERVIÃ‡OS ============

-- Categorias de Procedimentos
procedure_categories (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  name: varchar NOT NULL,
  description: text,
  color: varchar,
  is_active: boolean DEFAULT true
)

-- Procedimentos
procedures (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  category_id: uuid REFERENCES procedure_categories(id),
  name: varchar NOT NULL,
  description: text,
  price: decimal(10,2) NOT NULL,
  cost: decimal(10,2) DEFAULT 0,
  duration_minutes: integer DEFAULT 60,
  is_active: boolean DEFAULT true,
  created_at: timestamp
)

-- ============ CLIENTES E CRM ============

-- Clientes
clients (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  name: varchar NOT NULL,
  email: varchar,
  phone: varchar,
  cpf: varchar,
  birthday: date,
  address: jsonb,
  preferences: text,
  observations: text,
  status: client_status_enum DEFAULT 'active',
  segment: client_segment_enum,
  first_visit: date,
  last_visit: date,
  total_spent: decimal(10,2) DEFAULT 0,
  total_visits: integer DEFAULT 0,
  ltv_score: decimal(5,2),
  created_at: timestamp,
  updated_at: timestamp
)

-- SegmentaÃ§Ã£o de Clientes
client_segments (
  id: uuid PRIMARY KEY,
  client_id: uuid REFERENCES clients(id),
  segment_type: segment_type_enum,
  score: decimal(5,2),
  criteria: jsonb,
  valid_until: timestamp,
  created_at: timestamp
)

-- ============ AGENDAMENTOS COM GOOGLE CALENDAR ============

-- Agendamentos
appointments (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  client_id: uuid REFERENCES clients(id),
  procedure_id: uuid REFERENCES procedures(id),
  google_event_id: varchar, -- ID do evento no Google Calendar
  scheduled_datetime: timestamp NOT NULL,
  duration_minutes: integer,
  status: appointment_status_enum DEFAULT 'scheduled',
  notes: text,
  google_meet_link: varchar,
  calendar_synced: boolean DEFAULT false,
  created_at: timestamp,
  updated_at: timestamp
)

-- ============ ATENDIMENTOS ============

-- Atendimentos Realizados
attendances (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  appointment_id: uuid REFERENCES appointments(id),
  client_id: uuid REFERENCES clients(id),
  procedure_id: uuid REFERENCES procedures(id),
  date: timestamp NOT NULL,
  value: decimal(10,2) NOT NULL,
  discount: decimal(10,2) DEFAULT 0,
  product_cost: decimal(10,2) DEFAULT 0,
  payment_method: payment_method_enum,
  payment_status: payment_status_enum DEFAULT 'pending',
  observations: text,
  rating: integer CHECK (rating >= 1 AND rating <= 5),
  created_at: timestamp
)

-- ============ ESTOQUE SIMPLIFICADO ============

-- Produtos
products (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  name: varchar NOT NULL,
  description: text,
  sku: varchar,
  category: varchar,
  unit: varchar DEFAULT 'un',
  cost_price: decimal(10,2) NOT NULL,
  current_stock: decimal(10,3) DEFAULT 0,
  min_stock: decimal(10,3) DEFAULT 0,
  expiry_date: date,
  is_active: boolean DEFAULT true,
  created_at: timestamp
)

-- MovimentaÃ§Ãµes de Estoque
stock_movements (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  product_id: uuid REFERENCES products(id),
  movement_type: stock_movement_enum,
  quantity: decimal(10,3) NOT NULL,
  unit_cost: decimal(10,2),
  reference_id: uuid, -- pode referenciar attendance
  reference_type: varchar,
  notes: text,
  created_at: timestamp
)

-- Uso de Produtos em Procedimentos
procedure_products (
  id: uuid PRIMARY KEY,
  procedure_id: uuid REFERENCES procedures(id),
  product_id: uuid REFERENCES products(id),
  quantity_used: decimal(10,3) NOT NULL,
  created_at: timestamp
)

-- ============ FINANCEIRO ============

-- Custos Fixos
fixed_costs (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  name: varchar NOT NULL,
  description: text,
  category: varchar,
  amount: decimal(10,2) NOT NULL,
  due_day: integer, -- dia do mÃªs
  is_active: boolean DEFAULT true,
  created_at: timestamp
)

-- ConfiguraÃ§Ã£o de DistribuiÃ§Ã£o de Lucros
profit_distribution_config (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  category: profit_category_enum,
  percentage: decimal(5,2) NOT NULL,
  description: varchar,
  is_active: boolean DEFAULT true,
  created_at: timestamp,
  updated_at: timestamp
)

-- HistÃ³rico de DistribuiÃ§Ã£o de Lucros
profit_distributions (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  period_month: integer NOT NULL,
  period_year: integer NOT NULL,
  total_revenue: decimal(10,2),
  total_costs: decimal(10,2),
  total_profit: decimal(10,2),
  pro_labore_amount: decimal(10,2),
  equipment_reserve_amount: decimal(10,2),
  emergency_reserve_amount: decimal(10,2),
  investment_amount: decimal(10,2),
  created_at: timestamp
)

-- Metas e Objetivos
goals (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  goal_type: goal_type_enum,
  period_type: period_type_enum,
  target_value: decimal(10,2),
  current_value: decimal(10,2) DEFAULT 0,
  period_start: date,
  period_end: date,
  is_active: boolean DEFAULT true,
  created_at: timestamp
)

-- ============ INTEGRAÃ‡ÃƒO GOOGLE CALENDAR ============

-- ConfiguraÃ§Ãµes de SincronizaÃ§Ã£o
calendar_sync_settings (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  calendar_id: varchar NOT NULL,
  default_color: varchar,
  auto_create_events: boolean DEFAULT true,
  send_invites: boolean DEFAULT true,
  remind_minutes_before: integer DEFAULT 60,
  created_at: timestamp,
  updated_at: timestamp
)

-- Log de SincronizaÃ§Ã£o
sync_log (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  action: varchar NOT NULL, -- 'create', 'update', 'delete'
  google_event_id: varchar,
  appointment_id: uuid REFERENCES appointments(id),
  status: varchar, -- 'success', 'error'
  error_message: text,
  synced_at: timestamp
)

-- ============ ANALYTICS E MÃ‰TRICAS ============

-- MÃ©tricas do NegÃ³cio
business_metrics (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  metric_name: varchar NOT NULL,
  metric_value: decimal(15,4),
  period_date: date,
  period_type: varchar,
  metadata: jsonb,
  created_at: timestamp
)

-- Cache de RelatÃ³rios
report_cache (
  id: uuid PRIMARY KEY,
  user_id: uuid REFERENCES users(id),
  report_type: varchar NOT NULL,
  parameters: jsonb,
  data: jsonb,
  generated_at: timestamp,
  expires_at: timestamp
)

-- ============ ENUMS ============

CREATE TYPE client_status_enum AS ENUM ('active', 'inactive', 'blocked');
CREATE TYPE client_segment_enum AS ENUM ('vip', 'regular', 'new', 'at_risk', 'lost');
CREATE TYPE segment_type_enum AS ENUM ('value', 'frequency', 'recency', 'behavior');
CREATE TYPE appointment_status_enum AS ENUM ('scheduled', 'confirmed', 'completed', 'cancelled', 'no_show');
CREATE TYPE payment_method_enum AS ENUM ('cash', 'pix', 'debit', 'credit', 'installment');
CREATE TYPE payment_status_enum AS ENUM ('pending', 'paid', 'cancelled', 'refunded');
CREATE TYPE stock_movement_enum AS ENUM ('in', 'out', 'adjustment', 'expired', 'loss');
CREATE TYPE profit_category_enum AS ENUM ('pro_labore', 'equipment_reserve', 'emergency_reserve', 'investment');
CREATE TYPE goal_type_enum AS ENUM ('revenue', 'profit', 'clients', 'appointments', 'procedures');
CREATE TYPE period_type_enum AS ENUM ('daily', 'weekly', 'monthly', 'quarterly', 'yearly');
```

---

## ðŸ“± Estrutura Simplificada do Projeto

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”œâ”€â”€ login/page.tsx
â”‚   â”‚   â”œâ”€â”€ register/page.tsx
â”‚   â”‚   â””â”€â”€ connect-calendar/page.tsx    # Conectar Google Calendar
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ page.tsx                     # Dashboard principal
â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚       â”œâ”€â”€ MetricsCards.tsx
â”‚   â”‚       â”œâ”€â”€ RevenueChart.tsx
â”‚   â”‚       â”œâ”€â”€ ProfitDistributionChart.tsx
â”‚   â”‚       â””â”€â”€ QuickActions.tsx
â”‚   â”œâ”€â”€ agendamentos/
â”‚   â”‚   â”œâ”€â”€ page.tsx                     # Lista de agendamentos
â”‚   â”‚   â”œâ”€â”€ calendario/page.tsx          # CalendÃ¡rio integrado
â”‚   â”‚   â”œâ”€â”€ novo/page.tsx               # Novo agendamento + Google Calendar
â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx                # Detalhes do agendamento
â”‚   â”‚   â”‚   â””â”€â”€ editar/page.tsx         # Editar agendamento
â”‚   â”‚   â””â”€â”€ configuracao/page.tsx       # Config Google Calendar
â”‚   â”œâ”€â”€ atendimentos/
â”‚   â”‚   â”œâ”€â”€ page.tsx                     # Lista de atendimentos
â”‚   â”‚   â”œâ”€â”€ novo/page.tsx               # Novo atendimento
â”‚   â”‚   â”œâ”€â”€ [id]/page.tsx               # Detalhes
â”‚   â”‚   â””â”€â”€ relatorio/page.tsx          # RelatÃ³rio de atendimentos
â”‚   â”œâ”€â”€ clientes/
â”‚   â”‚   â”œâ”€â”€ page.tsx                     # Lista de clientes
â”‚   â”‚   â”œâ”€â”€ novo/page.tsx               # Cadastro
â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx                # Perfil do cliente
â”‚   â”‚   â”‚   â””â”€â”€ historico/page.tsx      # HistÃ³rico
â”‚   â”‚   â”œâ”€â”€ segmentos/page.tsx          # SegmentaÃ§Ã£o
â”‚   â”‚   â””â”€â”€ campanhas/page.tsx          # Campanhas de marketing
â”‚   â”œâ”€â”€ estoque/
â”‚   â”‚   â”œâ”€â”€ page.tsx                     # Controle de estoque
â”‚   â”‚   â”œâ”€â”€ produtos/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx                # Lista de produtos
â”‚   â”‚   â”‚   â””â”€â”€ [id]/page.tsx           # Detalhes do produto
â”‚   â”‚   â”œâ”€â”€ movimentacoes/page.tsx      # HistÃ³rico de movimentaÃ§Ãµes
â”‚   â”‚   â””â”€â”€ relatorios/page.tsx         # RelatÃ³rios de estoque
â”‚   â”œâ”€â”€ financeiro/
â”‚   â”‚   â”œâ”€â”€ page.tsx                     # Overview financeiro
â”‚   â”‚   â”œâ”€â”€ fluxo-caixa/page.tsx        # Fluxo de caixa
â”‚   â”‚   â”œâ”€â”€ custos-fixos/page.tsx       # GestÃ£o de custos
â”‚   â”‚   â”œâ”€â”€ metas/page.tsx              # Metas e objetivos
â”‚   â”‚   â””â”€â”€ projecoes/page.tsx          # ProjeÃ§Ãµes financeiras
â”‚   â”œâ”€â”€ distribuicao-lucros/
â”‚   â”‚   â”œâ”€â”€ page.tsx                     # Dashboard de distribuiÃ§Ã£o
â”‚   â”‚   â”œâ”€â”€ configuracao/page.tsx       # Configurar percentuais
â”‚   â”‚   â”œâ”€â”€ historico/page.tsx          # HistÃ³rico de distribuiÃ§Ãµes
â”‚   â”‚   â””â”€â”€ simulador/page.tsx          # Simulador de cenÃ¡rios
â”‚   â”œâ”€â”€ procedimentos/
â”‚   â”‚   â”œâ”€â”€ page.tsx                     # Lista de procedimentos
â”‚   â”‚   â”œâ”€â”€ categorias/page.tsx         # Categorias
â”‚   â”‚   â”œâ”€â”€ rentabilidade/page.tsx      # AnÃ¡lise de rentabilidade
â”‚   â”‚   â””â”€â”€ precificacao/page.tsx       # SugestÃµes de preÃ§o
â”‚   â”œâ”€â”€ relatorios/
â”‚   â”‚   â”œâ”€â”€ page.tsx                     # Central de relatÃ³rios
â”‚   â”‚   â”œâ”€â”€ executivo/page.tsx          # RelatÃ³rio executivo
â”‚   â”‚   â”œâ”€â”€ clientes/page.tsx           # RelatÃ³rios de cliente
â”‚   â”‚   â”œâ”€â”€ financeiro/page.tsx         # RelatÃ³rios financeiros
â”‚   â”‚   â””â”€â”€ operacional/page.tsx        # RelatÃ³rios operacionais
â”‚   â”œâ”€â”€ configuracoes/
â”‚   â”‚   â”œâ”€â”€ page.tsx                     # ConfiguraÃ§Ãµes gerais
â”‚   â”‚   â”œâ”€â”€ perfil/page.tsx             # Perfil do negÃ³cio
â”‚   â”‚   â”œâ”€â”€ calendar/page.tsx           # Config Google Calendar
â”‚   â”‚   â””â”€â”€ backup/page.tsx             # Backup e exportaÃ§Ã£o
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ auth/[...nextauth]/route.ts
â”‚       â”œâ”€â”€ google-calendar/
â”‚       â”‚   â”œâ”€â”€ connect/route.ts
â”‚       â”‚   â”œâ”€â”€ sync/route.ts
â”‚       â”‚   â””â”€â”€ webhook/route.ts
â”‚       â””â”€â”€ reports/
â”‚           â”œâ”€â”€ pdf/route.ts
â”‚           â””â”€â”€ excel/route.ts
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                              # shadcn/ui components
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ Navigation.tsx
â”‚   â”‚   â””â”€â”€ MobileMenu.tsx
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ MetricsCard.tsx
â”‚   â”‚   â”œâ”€â”€ Chart.tsx
â”‚   â”‚   â””â”€â”€ RecentActivity.tsx
â”‚   â”œâ”€â”€ calendar/
â”‚   â”‚   â”œâ”€â”€ GoogleCalendarView.tsx       # IntegraÃ§Ã£o Google Calendar
â”‚   â”‚   â”œâ”€â”€ AppointmentModal.tsx
â”‚   â”‚   â”œâ”€â”€ CalendarSync.tsx
â”‚   â”‚   â””â”€â”€ TimeSlots.tsx
â”‚   â”œâ”€â”€ forms/
â”‚   â”‚   â”œâ”€â”€ ClientForm.tsx
â”‚   â”‚   â”œâ”€â”€ AppointmentForm.tsx
â”‚   â”‚   â”œâ”€â”€ ProcedureForm.tsx
â”‚   â”‚   â””â”€â”€ ProductForm.tsx
â”‚   â”œâ”€â”€ tables/
â”‚   â”‚   â”œâ”€â”€ DataTable.tsx
â”‚   â”‚   â”œâ”€â”€ ClientTable.tsx
â”‚   â”‚   â””â”€â”€ AppointmentTable.tsx
â”‚   â”œâ”€â”€ charts/
â”‚   â”‚   â”œâ”€â”€ RevenueChart.tsx
â”‚   â”‚   â”œâ”€â”€ ProfitChart.tsx
â”‚   â”‚   â””â”€â”€ ProcedureChart.tsx
â”‚   â”œâ”€â”€ profit-distribution/
â”‚   â”‚   â”œâ”€â”€ DistributionConfig.tsx
â”‚   â”‚   â”œâ”€â”€ DistributionChart.tsx
â”‚   â”‚   â”œâ”€â”€ DistributionHistory.tsx
â”‚   â”‚   â””â”€â”€ DistributionSimulator.tsx
â”‚   â”œâ”€â”€ google-calendar/
â”‚   â”‚   â”œâ”€â”€ CalendarConnection.tsx
â”‚   â”‚   â”œâ”€â”€ SyncStatus.tsx
â”‚   â”‚   â””â”€â”€ EventManagement.tsx
â”‚   â”œâ”€â”€ reports/
â”‚   â”‚   â”œâ”€â”€ ReportBuilder.tsx
â”‚   â”‚   â”œâ”€â”€ PDFExport.tsx
â”‚   â”‚   â””â”€â”€ ExcelExport.tsx
â”‚   â””â”€â”€ common/
â”‚       â”œâ”€â”€ LoadingSpinner.tsx
â”‚       â”œâ”€â”€ ErrorBoundary.tsx
â”‚       â”œâ”€â”€ SearchBar.tsx
â”‚       â””â”€â”€ DatePicker.tsx
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â”œâ”€â”€ server.ts
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”œâ”€â”€ google-calendar/
â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ events.ts
â”‚   â”‚   â””â”€â”€ sync.ts
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ calculations.ts
â”‚   â”‚   â”œâ”€â”€ formatting.ts
â”‚   â”‚   â”œâ”€â”€ validations.ts
â”‚   â”‚   â””â”€â”€ constants.ts
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ client.service.ts
â”‚   â”‚   â”œâ”€â”€ appointmentService.ts
â”‚   â”‚   â”œâ”€â”€ financialService.ts
â”‚   â”‚   â”œâ”€â”€ stockService.ts
â”‚   â”‚   â””â”€â”€ calendarService.ts
â”‚   â””â”€â”€ hooks/
â”‚       â”œâ”€â”€ useClients.ts
â”‚       â”œâ”€â”€ useAppointments.ts
â”‚       â”œâ”€â”€ useFinancials.ts
â”‚       â””â”€â”€ useGoogleCalendar.ts
â”œâ”€â”€ store/
â”‚   â”œâ”€â”€ useAuthStore.ts
â”‚   â”œâ”€â”€ useClientStore.ts
â”‚   â”œâ”€â”€ useAppointmentStore.ts
â”‚   â”œâ”€â”€ useCalendarStore.ts
â”‚   â””â”€â”€ useSettingsStore.ts
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ auth.ts
â”‚   â”œâ”€â”€ client.ts
â”‚   â”œâ”€â”€ appointment.ts
â”‚   â”œâ”€â”€ financial.ts
â”‚   â””â”€â”€ google-calendar.ts
â””â”€â”€ styles/
    â”œâ”€â”€ globals.css
    â””â”€â”€ components.css
```

---

## ðŸš€ Plano de ImplementaÃ§Ã£o Atualizado

### **FASE 1: FUNDAÃ‡ÃƒO (Semanas 1-2)**

#### Semana 1: Setup e Infraestrutura
```bash
# ConfiguraÃ§Ã£o inicial
npx create-next-app@latest gestao-estetica --typescript --tailwind --app
cd gestao-estetica

# InstalaÃ§Ã£o de dependÃªncias
npm install @supabase/supabase-js @supabase/auth-helpers-nextjs
npm install zustand @tanstack/react-query
npm install recharts lucide-react date-fns
npm install framer-motion @radix-ui/react-dialog
npm install react-hook-form @hookform/resolvers zod
npm install googleapis google-auth-library
npm install jspdf html2canvas react-pdf

# Setup do shadcn/ui
npx shadcn-ui@latest init
npx shadcn-ui@latest add button input card table dialog calendar
```

#### Semana 2: AutenticaÃ§Ã£o e Google Calendar
- âœ… Sistema de autenticaÃ§Ã£o com Google OAuth
- âœ… ConexÃ£o com Google Calendar API
- âœ… Layout responsivo com sidebar
- âœ… Setup do Supabase com RLS
- âœ… ConfiguraÃ§Ã£o inicial do Google Calendar

### **FASE 2: CORE DO SISTEMA (Semanas 3-5)**

#### Semana 3: Dashboard e MÃ©tricas
- âœ… Dashboard principal com KPIs
- âœ… GrÃ¡ficos de receita e lucro
- âœ… Cards de mÃ©tricas em tempo real
- âœ… Filtros por perÃ­odo

#### Semana 4: GestÃ£o de Clientes
- âœ… CRUD completo de clientes
- âœ… HistÃ³rico de atendimentos
- âœ… Sistema de segmentaÃ§Ã£o
- âœ… Campanhas bÃ¡sicas

#### Semana 5: Procedimentos e Atendimentos
- âœ… Cadastro de procedimentos
- âœ… Registro de atendimentos
- âœ… CÃ¡lculo de custos e margens
- âœ… AnÃ¡lise de rentabilidade

### **FASE 3: RECURSOS AVANÃ‡ADOS (Semanas 6-8)**

#### Semana 6: Sistema de Agendamento + Google Calendar
- âœ… IntegraÃ§Ã£o completa com Google Calendar
- âœ… SincronizaÃ§Ã£o bidirecional
- âœ… Envio automÃ¡tico de convites
- âœ… Interface de calendÃ¡rio integrada

#### Semana 7: Controle de Estoque Simplificado
- âœ… Cadastro de produtos
- âœ… MovimentaÃ§Ãµes automÃ¡ticas
- âœ… Alertas de estoque mÃ­nimo
- âœ… RelatÃ³rios de consumo

#### Semana 8: DistribuiÃ§Ã£o de Lucros
- âœ… ConfiguraÃ§Ã£o de percentuais
- âœ… CÃ¡lculo automÃ¡tico mensal
- âœ… HistÃ³rico e projeÃ§Ãµes
- âœ… Simulador de cenÃ¡rios

### **FASE 4: OTIMIZAÃ‡ÃƒO E RELATÃ“RIOS (Semanas 9-10)**

#### Semana 9: CRM AvanÃ§ado
- âœ… SegmentaÃ§Ã£o automÃ¡tica de clientes
- âœ… Campanhas via Google Calendar
- âœ… Follow-up automatizado
- âœ… AnÃ¡lise de LTV

#### Semana 10: RelatÃ³rios e Dashboard Final
- âœ… Sistema completo de relatÃ³rios
- âœ… ExportaÃ§Ã£o para PDF/Excel
- âœ… Dashboard executivo
- âœ… OtimizaÃ§Ãµes finais

---

## ðŸ”§ ConfiguraÃ§Ã£o do Google Calendar

### Fluxo de IntegraÃ§Ã£o:

1. **ConexÃ£o Inicial:**
   - UsuÃ¡rio autoriza acesso ao Google Calendar
   - Sistema obtÃ©m tokens de acesso
   - ConfiguraÃ§Ã£o de calendÃ¡rio padrÃ£o

2. **CriaÃ§Ã£o de Agendamentos:**
   - UsuÃ¡rio cria agendamento no sistema
   - Sistema cria evento no Google Calendar
   - Cliente recebe convite automaticamente
   - ConfirmaÃ§Ã£o via Google Calendar

3. **SincronizaÃ§Ã£o:**
   - Eventos criados/editados no Google Calendar sincronizam no sistema
   - Status de confirmaÃ§Ã£o atualizado automaticamente
   - NotificaÃ§Ãµes nativas do Google

4. **BenefÃ­cios:**
   - âœ… Clientes recebem convites profissionais
   - âœ… ConfirmaÃ§Ã£o via Google (mais confiÃ¡vel)
   - âœ… Lembretes automÃ¡ticos do Google
   - âœ… IntegraÃ§Ã£o com outros calendÃ¡rios
   - âœ… Acesso offline via Google Calendar

